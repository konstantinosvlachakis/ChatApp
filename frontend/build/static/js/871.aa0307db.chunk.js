"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[871],{7332:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(9662),o=n(579);const r=(0,i.A)((0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},3875:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(9662),o=n(579);const r=(0,i.A)((0,o.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"}),"AttachFile")},3438:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(9662),o=n(579);const r=(0,i.A)((0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},5874:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(9662),o=n(579);const r=(0,i.A)((0,o.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},4219:(t,e,n)=>{n.d(e,{A:()=>r});var i=n(9662),o=n(579);const r=(0,i.A)((0,o.jsx)("path",{d:"M7 24h2v-2H7zm5-11c1.66 0 2.99-1.34 2.99-3L15 4c0-1.66-1.34-3-3-3S9 2.34 9 4v6c0 1.66 1.34 3 3 3m-1 11h2v-2h-2zm4 0h2v-2h-2zm4-14h-1.7c0 3-2.54 5.1-5.3 5.1S6.7 13 6.7 10H5c0 3.41 2.72 6.23 6 6.72V20h2v-3.28c3.28-.49 6-3.31 6-6.72"}),"SettingsVoice")},7392:(t,e,n)=>{n.d(e,{A:()=>j});var i=n(5043),o=n(8387),r=n(8610),s=n(5879),a=n(1546),c=n(2108),u=n(6262),l=n(2445),d=n(6431),h=n(408),f=n(1637),p=n(6803),m=n(2532),v=n(552);function y(t){return(0,v.Ay)("MuiIconButton",t)}const g=(0,m.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]);var b=n(579);const k=(0,c.Ay)(h.A,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.loading&&e.loading,"default"!==n.color&&e[`color${(0,p.A)(n.color)}`],n.edge&&e[`edge${(0,p.A)(n.edge)}`],e[`size${(0,p.A)(n.size)}`]]}})((0,u.A)((t=>{let{theme:e}=t;return{textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),variants:[{props:t=>!t.disableRipple,style:{"--IconButton-hoverBg":e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,a.X4)(e.palette.action.active,e.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),(0,u.A)((t=>{let{theme:e}=t;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(e.palette).filter((0,l.A)()).map((t=>{let[n]=t;return{props:{color:n},style:{color:(e.vars||e).palette[n].main}}})),...Object.entries(e.palette).filter((0,l.A)()).map((t=>{let[n]=t;return{props:{color:n},style:{"--IconButton-hoverBg":e.vars?`rgba(${(e.vars||e).palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,a.X4)((e.vars||e).palette[n].main,e.palette.action.hoverOpacity)}}})),{props:{size:"small"},style:{padding:5,fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:e.typography.pxToRem(28)}}],[`&.${g.disabled}`]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled},[`&.${g.loading}`]:{color:"transparent"}}}))),w=(0,c.Ay)("span",{name:"MuiIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})((t=>{let{theme:e}=t;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(e.vars||e).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}})),j=i.forwardRef((function(t,e){const n=(0,d.b)({props:t,name:"MuiIconButton"}),{edge:i=!1,children:a,className:c,color:u="default",disabled:l=!1,disableFocusRipple:h=!1,size:m="medium",id:v,loading:g=null,loadingIndicator:j,...E}=n,S=(0,s.A)(v),C=j??(0,b.jsx)(f.A,{"aria-labelledby":S,color:"inherit",size:16}),x={...n,edge:i,color:u,disabled:l,disableFocusRipple:h,loading:g,loadingIndicator:C,size:m},A=(t=>{const{classes:e,disabled:n,color:i,edge:o,size:s,loading:a}=t,c={root:["root",a&&"loading",n&&"disabled","default"!==i&&`color${(0,p.A)(i)}`,o&&`edge${(0,p.A)(o)}`,`size${(0,p.A)(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return(0,r.A)(c,y,e)})(x);return(0,b.jsxs)(k,{id:S,className:(0,o.A)(A.root,c),centerRipple:!0,focusRipple:!h,disabled:l||g,ref:e,...E,ownerState:x,children:["boolean"===typeof g&&(0,b.jsx)("span",{className:A.loadingWrapper,style:{display:"contents"},children:(0,b.jsx)(w,{className:A.loadingIndicator,ownerState:x,children:g&&C})}),a]})}))},2208:(t,e,n)=>{n.d(e,{QueryClient:()=>j});var i=n(8168),o=n(8870),r=n(5540),s=n(1991),a=n(75),c=function(){function t(){this.listeners=[]}var e=t.prototype;return e.subscribe=function(t){var e=this,n=t||function(){};return this.listeners.push(n),this.onSubscribe(),function(){e.listeners=e.listeners.filter((function(t){return t!==n})),e.onUnsubscribe()}},e.hasListeners=function(){return this.listeners.length>0},e.onSubscribe=function(){},e.onUnsubscribe=function(){},t}(),u=new(function(t){function e(){var e;return(e=t.call(this)||this).setup=function(t){var e;if(!o.S$&&(null==(e=window)?void 0:e.addEventListener)){var n=function(){return t()};return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),function(){window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}},e}(0,r.A)(e,t);var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)},n.setEventListener=function(t){var e,n=this;this.setup=t,null==(e=this.cleanup)||e.call(this),this.cleanup=t((function(t){"boolean"===typeof t?n.setFocused(t):n.onFocus()}))},n.setFocused=function(t){this.focused=t,t&&this.onFocus()},n.onFocus=function(){this.listeners.forEach((function(t){t()}))},n.isFocused=function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)},e}(c)),l=new(function(t){function e(){var e;return(e=t.call(this)||this).setup=function(t){var e;if(!o.S$&&(null==(e=window)?void 0:e.addEventListener)){var n=function(){return t()};return window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1),function(){window.removeEventListener("online",n),window.removeEventListener("offline",n)}}},e}(0,r.A)(e,t);var n=e.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)},n.setEventListener=function(t){var e,n=this;this.setup=t,null==(e=this.cleanup)||e.call(this),this.cleanup=t((function(t){"boolean"===typeof t?n.setOnline(t):n.onOnline()}))},n.setOnline=function(t){this.online=t,t&&this.onOnline()},n.onOnline=function(){this.listeners.forEach((function(t){t()}))},n.isOnline=function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine},e}(c));function d(t){return Math.min(1e3*Math.pow(2,t),3e4)}function h(t){return"function"===typeof(null==t?void 0:t.cancel)}var f=function(t){this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent};function p(t){return t instanceof f}var m=function(t){var e,n,i,r,s=this,a=!1;this.abort=t.abort,this.cancel=function(t){return null==e?void 0:e(t)},this.cancelRetry=function(){a=!0},this.continueRetry=function(){a=!1},this.continue=function(){return null==n?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise((function(t,e){i=t,r=e}));var c=function(e){s.isResolved||(s.isResolved=!0,null==t.onSuccess||t.onSuccess(e),null==n||n(),i(e))},p=function(e){s.isResolved||(s.isResolved=!0,null==t.onError||t.onError(e),null==n||n(),r(e))};!function i(){if(!s.isResolved){var r;try{r=t.fn()}catch(m){r=Promise.reject(m)}e=function(t){if(!s.isResolved&&(p(new f(t)),null==s.abort||s.abort(),h(r)))try{r.cancel()}catch(e){}},s.isTransportCancelable=h(r),Promise.resolve(r).then(c).catch((function(e){var r,c;if(!s.isResolved){var h=null!=(r=t.retry)?r:3,f=null!=(c=t.retryDelay)?c:d,m="function"===typeof f?f(s.failureCount,e):f,v=!0===h||"number"===typeof h&&s.failureCount<h||"function"===typeof h&&h(s.failureCount,e);!a&&v?(s.failureCount++,null==t.onFail||t.onFail(s.failureCount,e),(0,o.yy)(m).then((function(){if(!u.isFocused()||!l.isOnline())return new Promise((function(e){n=e,s.isPaused=!0,null==t.onPause||t.onPause()})).then((function(){n=void 0,s.isPaused=!1,null==t.onContinue||t.onContinue()}))})).then((function(){a?p(e):i()}))):p(e)}}))}}()},v=function(){function t(t){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=t.meta,this.scheduleGc()}var e=t.prototype;return e.setOptions=function(t){var e;this.options=(0,i.A)({},this.defaultOptions,t),this.meta=null==t?void 0:t.meta,this.cacheTime=Math.max(this.cacheTime||0,null!=(e=this.options.cacheTime)?e:3e5)},e.setDefaultOptions=function(t){this.defaultOptions=t},e.scheduleGc=function(){var t=this;this.clearGcTimeout(),(0,o.gn)(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){t.optionalRemove()}),this.cacheTime))},e.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},e.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},e.setData=function(t,e){var n,i,r=this.state.data,s=(0,o.Zw)(t,r);return(null==(n=(i=this.options).isDataEqual)?void 0:n.call(i,r,s))?s=r:!1!==this.options.structuralSharing&&(s=(0,o.BH)(r,s)),this.dispatch({data:s,type:"success",dataUpdatedAt:null==e?void 0:e.updatedAt}),s},e.setState=function(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})},e.cancel=function(t){var e,n=this.promise;return null==(e=this.retryer)||e.cancel(t),n?n.then(o.lQ).catch(o.lQ):Promise.resolve()},e.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},e.reset=function(){this.destroy(),this.setState(this.initialState)},e.isActive=function(){return this.observers.some((function(t){return!1!==t.options.enabled}))},e.isFetching=function(){return this.state.isFetching},e.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(t){return t.getCurrentResult().isStale}))},e.isStaleByTime=function(t){return void 0===t&&(t=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!(0,o.j3)(this.state.dataUpdatedAt,t)},e.onFocus=function(){var t,e=this.observers.find((function(t){return t.shouldFetchOnWindowFocus()}));e&&e.refetch(),null==(t=this.retryer)||t.continue()},e.onOnline=function(){var t,e=this.observers.find((function(t){return t.shouldFetchOnReconnect()}));e&&e.refetch(),null==(t=this.retryer)||t.continue()},e.addObserver=function(t){-1===this.observers.indexOf(t)&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))},e.removeObserver=function(t){-1!==this.observers.indexOf(t)&&(this.observers=this.observers.filter((function(e){return e!==t})),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))},e.getObserversCount=function(){return this.observers.length},e.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},e.fetch=function(t,e){var n,i,r,s=this;if(this.state.isFetching)if(this.state.dataUpdatedAt&&(null==e?void 0:e.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var c;return null==(c=this.retryer)||c.continueRetry(),this.promise}if(t&&this.setOptions(t),!this.options.queryFn){var u=this.observers.find((function(t){return t.options.queryFn}));u&&this.setOptions(u.options)}var l=(0,o.HN)(this.queryKey),d=(0,o.jY)(),h={queryKey:l,pageParam:void 0,meta:this.meta};Object.defineProperty(h,"signal",{enumerable:!0,get:function(){if(d)return s.abortSignalConsumed=!0,d.signal}});var f,v,y={fetchOptions:e,options:this.options,queryKey:l,state:this.state,fetchFn:function(){return s.options.queryFn?(s.abortSignalConsumed=!1,s.options.queryFn(h)):Promise.reject("Missing queryFn")},meta:this.meta};(null==(n=this.options.behavior)?void 0:n.onFetch)&&(null==(f=this.options.behavior)||f.onFetch(y));(this.revertState=this.state,this.state.isFetching&&this.state.fetchMeta===(null==(i=y.fetchOptions)?void 0:i.meta))||this.dispatch({type:"fetch",meta:null==(v=y.fetchOptions)?void 0:v.meta});return this.retryer=new m({fn:y.fetchFn,abort:null==d||null==(r=d.abort)?void 0:r.bind(d),onSuccess:function(t){s.setData(t),null==s.cache.config.onSuccess||s.cache.config.onSuccess(t,s),0===s.cacheTime&&s.optionalRemove()},onError:function(t){p(t)&&t.silent||s.dispatch({type:"error",error:t}),p(t)||(null==s.cache.config.onError||s.cache.config.onError(t,s),(0,a.t)().error(t)),0===s.cacheTime&&s.optionalRemove()},onFail:function(){s.dispatch({type:"failed"})},onPause:function(){s.dispatch({type:"pause"})},onContinue:function(){s.dispatch({type:"continue"})},retry:y.options.retry,retryDelay:y.options.retryDelay}),this.promise=this.retryer.promise,this.promise},e.dispatch=function(t){var e=this;this.state=this.reducer(this.state,t),s.j.batch((function(){e.observers.forEach((function(e){e.onQueryUpdate(t)})),e.cache.notify({query:e,type:"queryUpdated",action:t})}))},e.getDefaultState=function(t){var e="function"===typeof t.initialData?t.initialData():t.initialData,n="undefined"!==typeof t.initialData?"function"===typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,i="undefined"!==typeof e;return{data:e,dataUpdateCount:0,dataUpdatedAt:i?null!=n?n:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:i?"success":"idle"}},e.reducer=function(t,e){var n,o;switch(e.type){case"failed":return(0,i.A)({},t,{fetchFailureCount:t.fetchFailureCount+1});case"pause":return(0,i.A)({},t,{isPaused:!0});case"continue":return(0,i.A)({},t,{isPaused:!1});case"fetch":return(0,i.A)({},t,{fetchFailureCount:0,fetchMeta:null!=(n=e.meta)?n:null,isFetching:!0,isPaused:!1},!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,i.A)({},t,{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(o=e.dataUpdatedAt)?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var r=e.error;return p(r)&&r.revert&&this.revertState?(0,i.A)({},this.revertState):(0,i.A)({},t,{error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return(0,i.A)({},t,{isInvalidated:!0});case"setState":return(0,i.A)({},t,e.state);default:return t}},t}(),y=function(t){function e(e){var n;return(n=t.call(this)||this).config=e||{},n.queries=[],n.queriesMap={},n}(0,r.A)(e,t);var n=e.prototype;return n.build=function(t,e,n){var i,r=e.queryKey,s=null!=(i=e.queryHash)?i:(0,o.F$)(r,e),a=this.get(s);return a||(a=new v({cache:this,queryKey:r,queryHash:s,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r),meta:e.meta}),this.add(a)),a},n.add=function(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"queryAdded",query:t}))},n.remove=function(t){var e=this.queriesMap[t.queryHash];e&&(t.destroy(),this.queries=this.queries.filter((function(e){return e!==t})),e===t&&delete this.queriesMap[t.queryHash],this.notify({type:"queryRemoved",query:t}))},n.clear=function(){var t=this;s.j.batch((function(){t.queries.forEach((function(e){t.remove(e)}))}))},n.get=function(t){return this.queriesMap[t]},n.getAll=function(){return this.queries},n.find=function(t,e){var n=(0,o.b_)(t,e)[0];return"undefined"===typeof n.exact&&(n.exact=!0),this.queries.find((function(t){return(0,o.MK)(n,t)}))},n.findAll=function(t,e){var n=(0,o.b_)(t,e)[0];return Object.keys(n).length>0?this.queries.filter((function(t){return(0,o.MK)(n,t)})):this.queries},n.notify=function(t){var e=this;s.j.batch((function(){e.listeners.forEach((function(e){e(t)}))}))},n.onFocus=function(){var t=this;s.j.batch((function(){t.queries.forEach((function(t){t.onFocus()}))}))},n.onOnline=function(){var t=this;s.j.batch((function(){t.queries.forEach((function(t){t.onOnline()}))}))},e}(c),g=function(){function t(t){this.options=(0,i.A)({},t.defaultOptions,t.options),this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.observers=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0},this.meta=t.meta}var e=t.prototype;return e.setState=function(t){this.dispatch({type:"setState",state:t})},e.addObserver=function(t){-1===this.observers.indexOf(t)&&this.observers.push(t)},e.removeObserver=function(t){this.observers=this.observers.filter((function(e){return e!==t}))},e.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(o.lQ).catch(o.lQ)):Promise.resolve()},e.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},e.execute=function(){var t,e=this,n="loading"===this.state.status,i=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),i=i.then((function(){null==e.mutationCache.config.onMutate||e.mutationCache.config.onMutate(e.state.variables,e)})).then((function(){return null==e.options.onMutate?void 0:e.options.onMutate(e.state.variables)})).then((function(t){t!==e.state.context&&e.dispatch({type:"loading",context:t,variables:e.state.variables})}))),i.then((function(){return e.executeMutation()})).then((function(n){t=n,null==e.mutationCache.config.onSuccess||e.mutationCache.config.onSuccess(t,e.state.variables,e.state.context,e)})).then((function(){return null==e.options.onSuccess?void 0:e.options.onSuccess(t,e.state.variables,e.state.context)})).then((function(){return null==e.options.onSettled?void 0:e.options.onSettled(t,null,e.state.variables,e.state.context)})).then((function(){return e.dispatch({type:"success",data:t}),t})).catch((function(t){return null==e.mutationCache.config.onError||e.mutationCache.config.onError(t,e.state.variables,e.state.context,e),(0,a.t)().error(t),Promise.resolve().then((function(){return null==e.options.onError?void 0:e.options.onError(t,e.state.variables,e.state.context)})).then((function(){return null==e.options.onSettled?void 0:e.options.onSettled(void 0,t,e.state.variables,e.state.context)})).then((function(){throw e.dispatch({type:"error",error:t}),t}))}))},e.executeMutation=function(){var t,e=this;return this.retryer=new m({fn:function(){return e.options.mutationFn?e.options.mutationFn(e.state.variables):Promise.reject("No mutationFn found")},onFail:function(){e.dispatch({type:"failed"})},onPause:function(){e.dispatch({type:"pause"})},onContinue:function(){e.dispatch({type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay}),this.retryer.promise},e.dispatch=function(t){var e=this;this.state=function(t,e){switch(e.type){case"failed":return(0,i.A)({},t,{failureCount:t.failureCount+1});case"pause":return(0,i.A)({},t,{isPaused:!0});case"continue":return(0,i.A)({},t,{isPaused:!1});case"loading":return(0,i.A)({},t,{context:e.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:e.variables});case"success":return(0,i.A)({},t,{data:e.data,error:null,status:"success",isPaused:!1});case"error":return(0,i.A)({},t,{data:void 0,error:e.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return(0,i.A)({},t,e.state);default:return t}}(this.state,t),s.j.batch((function(){e.observers.forEach((function(e){e.onMutationUpdate(t)})),e.mutationCache.notify(e)}))},t}();var b=function(t){function e(e){var n;return(n=t.call(this)||this).config=e||{},n.mutations=[],n.mutationId=0,n}(0,r.A)(e,t);var n=e.prototype;return n.build=function(t,e,n){var i=new g({mutationCache:this,mutationId:++this.mutationId,options:t.defaultMutationOptions(e),state:n,defaultOptions:e.mutationKey?t.getMutationDefaults(e.mutationKey):void 0,meta:e.meta});return this.add(i),i},n.add=function(t){this.mutations.push(t),this.notify(t)},n.remove=function(t){this.mutations=this.mutations.filter((function(e){return e!==t})),t.cancel(),this.notify(t)},n.clear=function(){var t=this;s.j.batch((function(){t.mutations.forEach((function(e){t.remove(e)}))}))},n.getAll=function(){return this.mutations},n.find=function(t){return"undefined"===typeof t.exact&&(t.exact=!0),this.mutations.find((function(e){return(0,o.nJ)(t,e)}))},n.findAll=function(t){return this.mutations.filter((function(e){return(0,o.nJ)(t,e)}))},n.notify=function(t){var e=this;s.j.batch((function(){e.listeners.forEach((function(e){e(t)}))}))},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var t=this.mutations.filter((function(t){return t.state.isPaused}));return s.j.batch((function(){return t.reduce((function(t,e){return t.then((function(){return e.continue().catch(o.lQ)}))}),Promise.resolve())}))},e}(c);function k(t,e){return null==t.getNextPageParam?void 0:t.getNextPageParam(e[e.length-1],e)}function w(t,e){return null==t.getPreviousPageParam?void 0:t.getPreviousPageParam(e[0],e)}var j=function(){function t(t){void 0===t&&(t={}),this.queryCache=t.queryCache||new y,this.mutationCache=t.mutationCache||new b,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var e=t.prototype;return e.mount=function(){var t=this;this.unsubscribeFocus=u.subscribe((function(){u.isFocused()&&l.isOnline()&&(t.mutationCache.onFocus(),t.queryCache.onFocus())})),this.unsubscribeOnline=l.subscribe((function(){u.isFocused()&&l.isOnline()&&(t.mutationCache.onOnline(),t.queryCache.onOnline())}))},e.unmount=function(){var t,e;null==(t=this.unsubscribeFocus)||t.call(this),null==(e=this.unsubscribeOnline)||e.call(this)},e.isFetching=function(t,e){var n=(0,o.b_)(t,e)[0];return n.fetching=!0,this.queryCache.findAll(n).length},e.isMutating=function(t){return this.mutationCache.findAll((0,i.A)({},t,{fetching:!0})).length},e.getQueryData=function(t,e){var n;return null==(n=this.queryCache.find(t,e))?void 0:n.state.data},e.getQueriesData=function(t){return this.getQueryCache().findAll(t).map((function(t){return[t.queryKey,t.state.data]}))},e.setQueryData=function(t,e,n){var i=(0,o.vh)(t),r=this.defaultQueryOptions(i);return this.queryCache.build(this,r).setData(e,n)},e.setQueriesData=function(t,e,n){var i=this;return s.j.batch((function(){return i.getQueryCache().findAll(t).map((function(t){var o=t.queryKey;return[o,i.setQueryData(o,e,n)]}))}))},e.getQueryState=function(t,e){var n;return null==(n=this.queryCache.find(t,e))?void 0:n.state},e.removeQueries=function(t,e){var n=(0,o.b_)(t,e)[0],i=this.queryCache;s.j.batch((function(){i.findAll(n).forEach((function(t){i.remove(t)}))}))},e.resetQueries=function(t,e,n){var r=this,a=(0,o.b_)(t,e,n),c=a[0],u=a[1],l=this.queryCache,d=(0,i.A)({},c,{active:!0});return s.j.batch((function(){return l.findAll(c).forEach((function(t){t.reset()})),r.refetchQueries(d,u)}))},e.cancelQueries=function(t,e,n){var i=this,r=(0,o.b_)(t,e,n),a=r[0],c=r[1],u=void 0===c?{}:c;"undefined"===typeof u.revert&&(u.revert=!0);var l=s.j.batch((function(){return i.queryCache.findAll(a).map((function(t){return t.cancel(u)}))}));return Promise.all(l).then(o.lQ).catch(o.lQ)},e.invalidateQueries=function(t,e,n){var r,a,c,u=this,l=(0,o.b_)(t,e,n),d=l[0],h=l[1],f=(0,i.A)({},d,{active:null==(r=null!=(a=d.refetchActive)?a:d.active)||r,inactive:null!=(c=d.refetchInactive)&&c});return s.j.batch((function(){return u.queryCache.findAll(d).forEach((function(t){t.invalidate()})),u.refetchQueries(f,h)}))},e.refetchQueries=function(t,e,n){var r=this,a=(0,o.b_)(t,e,n),c=a[0],u=a[1],l=s.j.batch((function(){return r.queryCache.findAll(c).map((function(t){return t.fetch(void 0,(0,i.A)({},u,{meta:{refetchPage:null==c?void 0:c.refetchPage}}))}))})),d=Promise.all(l).then(o.lQ);return(null==u?void 0:u.throwOnError)||(d=d.catch(o.lQ)),d},e.fetchQuery=function(t,e,n){var i=(0,o.vh)(t,e,n),r=this.defaultQueryOptions(i);"undefined"===typeof r.retry&&(r.retry=!1);var s=this.queryCache.build(this,r);return s.isStaleByTime(r.staleTime)?s.fetch(r):Promise.resolve(s.state.data)},e.prefetchQuery=function(t,e,n){return this.fetchQuery(t,e,n).then(o.lQ).catch(o.lQ)},e.fetchInfiniteQuery=function(t,e,n){var i=(0,o.vh)(t,e,n);return i.behavior={onFetch:function(t){t.fetchFn=function(){var e,n,i,r,s,a,c,u=null==(e=t.fetchOptions)||null==(n=e.meta)?void 0:n.refetchPage,l=null==(i=t.fetchOptions)||null==(r=i.meta)?void 0:r.fetchMore,d=null==l?void 0:l.pageParam,f="forward"===(null==l?void 0:l.direction),p="backward"===(null==l?void 0:l.direction),m=(null==(s=t.state.data)?void 0:s.pages)||[],v=(null==(a=t.state.data)?void 0:a.pageParams)||[],y=(0,o.jY)(),g=null==y?void 0:y.signal,b=v,j=!1,E=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},S=function(t,e,n,i){return b=i?[e].concat(b):[].concat(b,[e]),i?[n].concat(t):[].concat(t,[n])},C=function(e,n,i,o){if(j)return Promise.reject("Cancelled");if("undefined"===typeof i&&!n&&e.length)return Promise.resolve(e);var r={queryKey:t.queryKey,signal:g,pageParam:i,meta:t.meta},s=E(r),a=Promise.resolve(s).then((function(t){return S(e,i,t,o)}));return h(s)&&(a.cancel=s.cancel),a};if(m.length)if(f){var x="undefined"!==typeof d,A=x?d:k(t.options,m);c=C(m,x,A)}else if(p){var T="undefined"!==typeof d,O=T?d:w(t.options,m);c=C(m,T,O,!0)}else!function(){b=[];var e="undefined"===typeof t.options.getNextPageParam,n=!u||!m[0]||u(m[0],0,m);c=n?C([],e,v[0]):Promise.resolve(S([],v[0],m[0]));for(var i=function(n){c=c.then((function(i){if(!u||!m[n]||u(m[n],n,m)){var o=e?v[n]:k(t.options,i);return C(i,e,o)}return Promise.resolve(S(i,v[n],m[n]))}))},o=1;o<m.length;o++)i(o)}();else c=C([]);var P=c.then((function(t){return{pages:t,pageParams:b}}));return P.cancel=function(){j=!0,null==y||y.abort(),h(c)&&c.cancel()},P}}},this.fetchQuery(i)},e.prefetchInfiniteQuery=function(t,e,n){return this.fetchInfiniteQuery(t,e,n).then(o.lQ).catch(o.lQ)},e.cancelMutations=function(){var t=this,e=s.j.batch((function(){return t.mutationCache.getAll().map((function(t){return t.cancel()}))}));return Promise.all(e).then(o.lQ).catch(o.lQ)},e.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},e.executeMutation=function(t){return this.mutationCache.build(this,t).execute()},e.getQueryCache=function(){return this.queryCache},e.getMutationCache=function(){return this.mutationCache},e.getDefaultOptions=function(){return this.defaultOptions},e.setDefaultOptions=function(t){this.defaultOptions=t},e.setQueryDefaults=function(t,e){var n=this.queryDefaults.find((function(e){return(0,o.Od)(t)===(0,o.Od)(e.queryKey)}));n?n.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})},e.getQueryDefaults=function(t){var e;return t?null==(e=this.queryDefaults.find((function(e){return(0,o.Cp)(t,e.queryKey)})))?void 0:e.defaultOptions:void 0},e.setMutationDefaults=function(t,e){var n=this.mutationDefaults.find((function(e){return(0,o.Od)(t)===(0,o.Od)(e.mutationKey)}));n?n.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})},e.getMutationDefaults=function(t){var e;return t?null==(e=this.mutationDefaults.find((function(e){return(0,o.Cp)(t,e.mutationKey)})))?void 0:e.defaultOptions:void 0},e.defaultQueryOptions=function(t){if(null==t?void 0:t._defaulted)return t;var e=(0,i.A)({},this.defaultOptions.queries,this.getQueryDefaults(null==t?void 0:t.queryKey),t,{_defaulted:!0});return!e.queryHash&&e.queryKey&&(e.queryHash=(0,o.F$)(e.queryKey,e)),e},e.defaultQueryObserverOptions=function(t){return this.defaultQueryOptions(t)},e.defaultMutationOptions=function(t){return(null==t?void 0:t._defaulted)?t:(0,i.A)({},this.defaultOptions.mutations,this.getMutationDefaults(null==t?void 0:t.mutationKey),t,{_defaulted:!0})},e.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}()},75:(t,e,n)=>{n.d(e,{B:()=>r,t:()=>o});var i=console;function o(){return i}function r(t){i=t}},1991:(t,e,n)=>{n.d(e,{j:()=>o});var i=n(8870),o=new(function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(t){t()},this.batchNotifyFn=function(t){t()}}var e=t.prototype;return e.batch=function(t){var e;this.transactions++;try{e=t()}finally{this.transactions--,this.transactions||this.flush()}return e},e.schedule=function(t){var e=this;this.transactions?this.queue.push(t):(0,i.G6)((function(){e.notifyFn(t)}))},e.batchCalls=function(t){var e=this;return function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];e.schedule((function(){t.apply(void 0,i)}))}},e.flush=function(){var t=this,e=this.queue;this.queue=[],e.length&&(0,i.G6)((function(){t.batchNotifyFn((function(){e.forEach((function(e){t.notifyFn(e)}))}))}))},e.setNotifyFunction=function(t){this.notifyFn=t},e.setBatchNotifyFunction=function(t){this.batchNotifyFn=t},t}())},8870:(t,e,n)=>{n.d(e,{BH:()=>g,Cp:()=>v,F$:()=>p,G6:()=>E,HN:()=>c,MK:()=>h,Od:()=>m,S$:()=>o,Zw:()=>s,b_:()=>d,gn:()=>a,j3:()=>u,jY:()=>S,lQ:()=>r,nJ:()=>f,vh:()=>l,yy:()=>j});var i=n(8168),o="undefined"===typeof window;function r(){}function s(t,e){return"function"===typeof t?t(e):t}function a(t){return"number"===typeof t&&t>=0&&t!==1/0}function c(t){return Array.isArray(t)?t:[t]}function u(t,e){return Math.max(t+(e||0)-Date.now(),0)}function l(t,e,n){return w(t)?"function"===typeof e?(0,i.A)({},n,{queryKey:t,queryFn:e}):(0,i.A)({},e,{queryKey:t}):t}function d(t,e,n){return w(t)?[(0,i.A)({},e,{queryKey:t}),n]:[t||{},e]}function h(t,e){var n=t.active,i=t.exact,o=t.fetching,r=t.inactive,s=t.predicate,a=t.queryKey,c=t.stale;if(w(a))if(i){if(e.queryHash!==p(a,e.options))return!1}else if(!v(e.queryKey,a))return!1;var u=function(t,e){return!0===t&&!0===e||null==t&&null==e?"all":!1===t&&!1===e?"none":(null!=t?t:!e)?"active":"inactive"}(n,r);if("none"===u)return!1;if("all"!==u){var l=e.isActive();if("active"===u&&!l)return!1;if("inactive"===u&&l)return!1}return("boolean"!==typeof c||e.isStale()===c)&&(("boolean"!==typeof o||e.isFetching()===o)&&!(s&&!s(e)))}function f(t,e){var n=t.exact,i=t.fetching,o=t.predicate,r=t.mutationKey;if(w(r)){if(!e.options.mutationKey)return!1;if(n){if(m(e.options.mutationKey)!==m(r))return!1}else if(!v(e.options.mutationKey,r))return!1}return("boolean"!==typeof i||"loading"===e.state.status===i)&&!(o&&!o(e))}function p(t,e){return((null==e?void 0:e.queryKeyHashFn)||m)(t)}function m(t){var e,n=c(t);return e=n,JSON.stringify(e,(function(t,e){return b(e)?Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{}):e}))}function v(t,e){return y(c(t),c(e))}function y(t,e){return t===e||typeof t===typeof e&&(!(!t||!e||"object"!==typeof t||"object"!==typeof e)&&!Object.keys(e).some((function(n){return!y(t[n],e[n])})))}function g(t,e){if(t===e)return t;var n=Array.isArray(t)&&Array.isArray(e);if(n||b(t)&&b(e)){for(var i=n?t.length:Object.keys(t).length,o=n?e:Object.keys(e),r=o.length,s=n?[]:{},a=0,c=0;c<r;c++){var u=n?c:o[c];s[u]=g(t[u],e[u]),s[u]===t[u]&&a++}return i===r&&a===i?t:s}return e}function b(t){if(!k(t))return!1;var e=t.constructor;if("undefined"===typeof e)return!0;var n=e.prototype;return!!k(n)&&!!n.hasOwnProperty("isPrototypeOf")}function k(t){return"[object Object]"===Object.prototype.toString.call(t)}function w(t){return"string"===typeof t||Array.isArray(t)}function j(t){return new Promise((function(e){setTimeout(e,t)}))}function E(t){Promise.resolve().then(t).catch((function(t){return setTimeout((function(){throw t}))}))}function S(){if("function"===typeof AbortController)return new AbortController}},2907:(t,e,n)=>{n.d(e,{QueryClient:()=>i.QueryClient});var i=n(2208);n(7434)},7434:(t,e,n)=>{var i=n(1991),o=n(7950).unstable_batchedUpdates;i.j.setBatchNotifyFunction(o);var r=n(75),s=console;(0,r.B)(s)},324:(t,e,n)=>{n.d(e,{n:()=>d});var i=n(5043),o=n(5239),r=n(1454),s=n(329),a=n(9723),c=class extends s.Q{#t;#e=void 0;#n;#i;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,a.f8)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,a.EN)(e.mutationKey)!==(0,a.EN)(this.options.mutationKey)?this.reset():"pending"===this.#n?.state.status&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#r(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#o(),this.#r()}mutate(t,e){return this.#i=e,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#o(){const t=this.#n?.state??(0,o.$)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#r(t){r.j.batch((()=>{if(this.#i&&this.hasListeners()){const e=this.#e.variables,n=this.#e.context;"success"===t?.type?(this.#i.onSuccess?.(t.data,e,n),this.#i.onSettled?.(t.data,null,e,n)):"error"===t?.type&&(this.#i.onError?.(t.error,e,n),this.#i.onSettled?.(void 0,t.error,e,n))}this.listeners.forEach((t=>{t(this.#e)}))}))}},u=n(3248);function l(){}function d(t,e){const n=(0,u.jE)(e),[o]=i.useState((()=>new c(n,t)));i.useEffect((()=>{o.setOptions(t)}),[o,t]);const s=i.useSyncExternalStore(i.useCallback((t=>o.subscribe(r.j.batchCalls(t))),[o]),(()=>o.getCurrentResult()),(()=>o.getCurrentResult())),a=i.useCallback(((t,e)=>{o.mutate(t,e).catch(l)}),[o]);if(s.error&&(d=o.options.throwOnError,h=[s.error],"function"===typeof d?d(...h):d))throw s.error;var d,h;return{...s,mutate:a,mutateAsync:s.mutate}}},2394:()=>{function t(t){if("string"!==typeof t||!t)throw new Error("expected a non-empty string, got: "+t)}function e(t){if("number"!==typeof t)throw new Error("expected a number, got: "+t)}const n="emoji",i="keyvalue",o="favorites",r="tokens",s="count",a="group-order",c="eTag",u="url",l="skinTone",d="readonly",h="readwrite",f="skinUnicodes",p="https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",m="en";function v(t){return function(t,e){const n=new Set,i=[];for(const o of t){const t=e(o);n.has(t)||(n.add(t),i.push(o))}return i}(t,(t=>t.unicode))}const y={},g={},b={};function k(t,e,n){n.onerror=()=>e(n.error),n.onblocked=()=>e(new Error("IDB blocked")),n.onsuccess=()=>t(n.result)}async function w(t){const e=await new Promise(((e,c)=>{const u=indexedDB.open(t,1);y[t]=u,u.onupgradeneeded=t=>{t.oldVersion<1&&function(t){function e(e,n,i){const o=n?t.createObjectStore(e,{keyPath:n}):t.createObjectStore(e);if(i)for(const[t,[r,s]]of Object.entries(i))o.createIndex(t,r,{multiEntry:s});return o}e(i),e(n,"unicode",{[r]:["tokens",!0],[a]:[["group","order"]],[f]:["skinUnicodes",!0]}),e(o,void 0,{[s]:[""]})}(u.result)},k(e,c,u)}));return e.onclose=()=>E(t),e}function j(t,e,n,i){return new Promise(((o,r)=>{const s=t.transaction(e,n,{durability:"relaxed"}),a="string"===typeof e?s.objectStore(e):e.map((t=>s.objectStore(t)));let c;i(a,s,(t=>{c=t})),s.oncomplete=()=>o(c),s.onerror=()=>r(s.error)}))}function E(t){const e=y[t],n=e&&e.result;if(n){n.close();const e=b[t];if(e)for(const t of e)t()}delete y[t],delete g[t],delete b[t]}const S=new Set([":D","XD",":'D","O:)",":X",":P",";P","XP",":L",":Z",":j","8D","XO","8)",":B",":O",":S",":'o","Dx","X(","D:",":C",">0)",":3","</3","<3","\\M/",":E","8#"]);function C(t){return t.split(/[\s_]+/).map((t=>!t.match(/\w/)||S.has(t)?t.toLowerCase():t.replace(/[)(:,]/g,"").replace(/\u2019/g,"'").toLowerCase())).filter(Boolean)}function x(t){return t.filter(Boolean).map((t=>t.toLowerCase())).filter((t=>t.length>=2))}function A(t,e,n,i){t[e](n).onsuccess=t=>i&&i(t.target.result)}function T(t,e,n){A(t,"get",e,n)}function O(t,e,n){A(t,"getAll",e,n)}function P(t){t.commit&&t.commit()}function M(t,e){const n=function(t,e){let n=t[0];for(let i=1;i<t.length;i++){const o=t[i];e(n)>e(o)&&(n=o)}return n}(t,(t=>t.length)),i=[];for(const o of n)t.some((t=>-1===t.findIndex((t=>e(t)===e(o)))))||i.push(o);return i}async function F(t,e,o,r){try{const s=function(t){return t.map((t=>{let{annotation:e,emoticon:n,group:i,order:o,shortcodes:r,skins:s,tags:a,emoji:c,version:u}=t;const l={annotation:e,group:i,order:o,tags:a,tokens:[...new Set(x([...(r||[]).map(C).flat(),...(a||[]).map(C).flat(),...C(e),n]))].sort(),unicode:c,version:u};if(n&&(l.emoticon=n),r&&(l.shortcodes=r),s){l.skinTones=[],l.skinUnicodes=[],l.skinVersions=[];for(const{tone:t,emoji:e,version:n}of s)l.skinTones.push(t),l.skinUnicodes.push(e),l.skinVersions.push(n)}return l}))}(e);await j(t,[n,i],h,((t,e)=>{let n,i,[a,l]=t,d=0;function h(){2===++d&&function(){if(n===r&&i===o)return;a.clear();for(const t of s)a.put(t);l.put(r,c),l.put(o,u),P(e)}()}T(l,c,(t=>{n=t,h()})),T(l,u,(t=>{i=t,h()}))}))}finally{}}async function $(t,e){const i=x(C(e));return i.length?j(t,n,d,((t,e,n)=>{const o=[],s=()=>{const t=M(o,(t=>t.unicode));n(t.sort(((t,e)=>t.order<e.order?-1:1)))};for(let a=0;a<i.length;a++){const e=i[a],n=a===i.length-1?IDBKeyRange.bound(e,e+"\uffff",!1,!0):IDBKeyRange.only(e);O(t.index(r),n,(t=>{o.push(t),o.length===i.length&&s()}))}})):[]}async function q(t,e){const i=await $(t,e);if(!i.length){const i=t=>(t.shortcodes||[]).includes(e.toLowerCase());return await async function(t,e){return j(t,n,d,((t,n,i)=>{let o;const r=()=>{t.getAll(o&&IDBKeyRange.lowerBound(o,!0),50).onsuccess=t=>{const n=t.target.result;for(const r of n)if(o=r.unicode,e(r))return i(r);if(n.length<50)return i();r()}};r()}))}(t,i)||null}return i.filter((t=>{const n=(t.shortcodes||[]).map((t=>t.toLowerCase()));return n.includes(e.toLowerCase())}))[0]||null}function I(t,e,n){return j(t,e,d,((t,e,i)=>T(t,n,i)))}const L=["name","url"];function _(t){!function(t){const e=t&&Array.isArray(t),n=e&&t.length&&(!t[0]||L.some((e=>!(e in t[0]))));if(!e||n)throw new Error("Custom emojis are in the wrong format")}(t);const e=(t,e)=>t.name.toLowerCase()<e.name.toLowerCase()?-1:1,n=t.sort(e),i=function(t,e){const n=new Map;for(const i of t){const t=e(i);for(const e of t){let t=n;for(let n=0;n<e.length;n++){const i=e.charAt(n);let o=t.get(i);o||(o=new Map,t.set(i,o)),t=o}let o=t.get("");o||(o=[],t.set("",o)),o.push(i)}}return(t,e)=>{let i=n;for(let n=0;n<t.length;n++){const e=t.charAt(n),o=i.get(e);if(!o)return[];i=o}if(e)return i.get("")||[];const o=[],r=[i];for(;r.length;){const t=[...r.shift().entries()].sort(((t,e)=>t[0]<e[0]?-1:1));for(const[e,n]of t)""===e?o.push(...n):r.push(n)}return o}}(t,(t=>{const e=new Set;if(t.shortcodes)for(const n of t.shortcodes)for(const t of C(n))e.add(t);return e})),o=t=>i(t,!0),r=t=>i(t,!1),s=new Map,a=new Map;for(const c of t){a.set(c.name.toLowerCase(),c);for(const t of c.shortcodes||[])s.set(t.toLowerCase(),c)}return{all:n,search:t=>{const n=C(t);return M(n.map(((t,e)=>(e<n.length-1?o:r)(t))),(t=>t.name)).sort(e)},byShortcode:t=>s.get(t.toLowerCase()),byName:t=>a.get(t.toLowerCase())}}const z="undefined"!==typeof wrappedJSObject;function D(t){if(!t)return t;if(z&&(t=structuredClone(t)),delete t.tokens,t.skinTones){const e=t.skinTones.length;t.skins=Array(e);for(let n=0;n<e;n++)t.skins[n]={tone:t.skinTones[n],unicode:t.skinUnicodes[n],version:t.skinVersions[n]};delete t.skinTones,delete t.skinUnicodes,delete t.skinVersions}return t}function R(t){t||console.warn("emoji-picker-element is more efficient if the dataSource server exposes an ETag header.")}const B=["annotation","emoji","group","order","version"];function Q(t,e){if(2!==Math.floor(t.status/100))throw new Error("Failed to fetch: "+e+":  "+t.status)}async function N(t){const e=await fetch(t);Q(e,t);const n=e.headers.get("etag");R(n);const i=await e.json();return function(t){if(!t||!Array.isArray(t)||!t[0]||"object"!==typeof t[0]||B.some((e=>!(e in t[0]))))throw new Error("Emoji data is in the wrong format")}(i),[n,i]}async function K(t){let e=function(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),o=-1;++o<e;)i[o]=t.charCodeAt(o);return n}(JSON.stringify(t));const n=function(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,o=-1;++o<i;)e+=String.fromCharCode(n[o]);return e}(await crypto.subtle.digest("SHA-1",e));return btoa(n)}async function U(t,e){let n,o=await async function(t){const e=await fetch(t,{method:"HEAD"});Q(e,t);const n=e.headers.get("etag");return R(n),n}(e);if(!o){const t=await N(e);o=t[0],n=t[1],o||(o=await K(n))}if(await async function(t,e,n){const[o,r]=await Promise.all([c,u].map((e=>I(t,i,e))));return o===n&&r===e}(t,e,o));else{if(!n){n=(await N(e))[1]}await F(t,n,e,o)}}class G{constructor(){let{dataSource:t=p,locale:e=m,customEmoji:n=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.dataSource=t,this.locale=e,this._dbName=`emoji-picker-element-${this.locale}`,this._db=void 0,this._lazyUpdate=void 0,this._custom=_(n),this._clear=this._clear.bind(this),this._ready=this._init()}async _init(){const t=this._db=await(e=this._dbName,g[e]||(g[e]=w(e)),g[e]);var e;!function(t,e){let n=b[t];n||(n=b[t]=[]),n.push(e)}(this._dbName,this._clear);const n=this.dataSource,o=await async function(t){return!await I(t,i,u)}(t);o?await async function(t,e){let[n,i]=await N(e);n||(n=await K(i)),await F(t,i,e,n)}(t,n):this._lazyUpdate=U(t,n)}async ready(){const t=async()=>(this._ready||(this._ready=this._init()),this._ready);await t(),this._db||await t()}async getEmojiByGroup(t){return e(t),await this.ready(),v(await async function(t,e){return j(t,n,d,((t,n,i)=>{const o=IDBKeyRange.bound([e,0],[e+1,0],!1,!0);O(t.index(a),o,i)}))}(this._db,t)).map(D)}async getEmojiBySearchQuery(e){t(e),await this.ready();return[...this._custom.search(e),...v(await $(this._db,e)).map(D)]}async getEmojiByShortcode(e){t(e),await this.ready();const n=this._custom.byShortcode(e);return n||D(await q(this._db,e))}async getEmojiByUnicodeOrName(e){t(e),await this.ready();const i=this._custom.byName(e);return i||D(await async function(t,e){return j(t,n,d,((t,n,i)=>T(t,e,(n=>{if(n)return i(n);T(t.index(f),e,(t=>i(t||null)))}))))}(this._db,e))}async getPreferredSkinTone(){return await this.ready(),await I(this._db,i,l)||0}async setPreferredSkinTone(t){return e(t),await this.ready(),n=this._db,o=l,r=t,j(n,i,h,((t,e)=>{t.put(r,o),P(e)}));var n,o,r}async incrementFavoriteEmojiCount(e){return t(e),await this.ready(),n=this._db,i=e,j(n,o,h,((t,e)=>T(t,i,(n=>{t.put((n||0)+1,i),P(e)}))));var n,i}async getTopFavoriteEmoji(t){return e(t),await this.ready(),(await function(t,e,i){return 0===i?[]:j(t,[o,n],d,((t,n,o)=>{let[r,a]=t;const c=[];r.index(s).openCursor(void 0,"prev").onsuccess=t=>{const n=t.target.result;if(!n)return o(c);function r(t){if(c.push(t),c.length===i)return o(c);n.continue()}const s=n.primaryKey,u=e.byName(s);if(u)return r(u);T(a,s,(t=>{if(t)return r(t);n.continue()}))}}))}(this._db,this._custom,t)).map(D)}set customEmoji(t){this._custom=_(t)}get customEmoji(){return this._custom.all}async _shutdown(){await this.ready();try{await this._lazyUpdate}catch(t){}}_clear(){this._db=this._ready=this._lazyUpdate=void 0}async close(){await this._shutdown(),await E(this._dbName)}async delete(){var t;await this._shutdown(),await(t=this._dbName,new Promise(((e,n)=>{E(t),k(e,n,indexedDB.deleteDatabase(t))})))}}const H=[[-1,"\u2728","custom"],[0,"\ud83d\ude00","smileys-emotion"],[1,"\ud83d\udc4b","people-body"],[3,"\ud83d\udc31","animals-nature"],[4,"\ud83c\udf4e","food-drink"],[5,"\ud83c\udfe0\ufe0f","travel-places"],[6,"\u26bd","activities"],[7,"\ud83d\udcdd","objects"],[8,"\u26d4\ufe0f","symbols"],[9,"\ud83c\udfc1","flags"]].map((t=>{let[e,n,i]=t;return{id:e,emoji:n,name:i}})),W=H.slice(1),V="function"===typeof requestIdleCallback?requestIdleCallback:setTimeout;function X(t){return t.unicode.includes("\u200d")}const J={"\ud83e\udee9":16,"\ud83e\udee8":15.1,"\ud83e\udee0":14,"\ud83e\udd72":13.1,"\ud83e\udd7b":12.1,"\ud83e\udd70":11,"\ud83e\udd29":5,"\ud83d\udc71\u200d\u2640\ufe0f":4,"\ud83e\udd23":3,"\ud83d\udc41\ufe0f\u200d\ud83d\udde8\ufe0f":2,"\ud83d\ude00":1,"\ud83d\ude10\ufe0f":.7,"\ud83d\ude03":.6},Y=["\ud83d\ude0a","\ud83d\ude12","\u2764\ufe0f","\ud83d\udc4d\ufe0f","\ud83d\ude0d","\ud83d\ude02","\ud83d\ude2d","\u263a\ufe0f","\ud83d\ude14","\ud83d\ude29","\ud83d\ude0f","\ud83d\udc95","\ud83d\ude4c","\ud83d\ude18"],Z='"Twemoji Mozilla","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji","EmojiOne Color","Android Emoji",sans-serif',tt=(t,e)=>t<e?-1:t>e?1:0,et=(t,e)=>{const n=document.createElement("canvas");n.width=n.height=1;const i=n.getContext("2d",{willReadFrequently:!0});return i.textBaseline="top",i.font=`100px ${Z}`,i.fillStyle=e,i.scale(.01,.01),i.fillText(t,0,0),i.getImageData(0,0,1,1).data};function nt(t){const e=et(t,"#000"),n=et(t,"#fff");return e&&n&&((t,e)=>{const n=[...t].join(",");return n===[...e].join(",")&&!n.startsWith("0,0,0,")})(e,n)}let it;const ot=()=>(it||(it=new Promise((t=>V((()=>t(function(){const t=Object.entries(J);try{for(const[e,n]of t)if(nt(e))return n}catch(e){}return t[0][1]}())))))),it),rt=new Map;function st(t){t.preventDefault(),t.stopPropagation()}function at(t,e,n){return(e+=t?-1:1)<0?e=n.length-1:e>=n.length&&(e=0),e}function ct(t,e){const n=new Set,i=[];for(const o of t){const t=e(o);n.has(t)||(n.add(t),i.push(o))}return i}const ut=requestAnimationFrame;let lt,dt="function"===typeof ResizeObserver;function ht(t){{const e=document.createRange();return e.selectNode(t.firstChild),e.getBoundingClientRect().width}}function ft(t,e,n){let i=t.get(e);return i||(i=n(),t.set(e,i)),i}function pt(t){return""+t}const mt=new WeakMap,vt=new WeakMap,yt=Symbol("un-keyed"),gt="replaceChildren"in Element.prototype;function bt(t,e){const{targetNode:n}=e;let{targetParentNode:i}=e,o=!1;i?o=function(t,e){let n=t.firstChild,i=0;for(;n;){if(e[i]!==n)return!0;n=n.nextSibling,i++}return i!==e.length}(i,t):(o=!0,e.targetNode=void 0,e.targetParentNode=i=n.parentNode),o&&function(t,e){gt?t.replaceChildren(...e):(t.innerHTML="",t.append(...e))}(i,t)}function kt(t){let e="",n=!1,i=!1,o=-1;const r=new Map,s=[];for(let c=0,u=t.length;c<u;c++){const a=t[c];if(e+=a,c===u-1)break;for(let t=0;t<a.length;t++){switch(a.charAt(t)){case"<":"/"===a.charAt(t+1)?s.pop():(n=!0,s.push(++o));break;case">":n=!1,i=!1;break;case"=":i=!0}}const l=ft(r,s[s.length-1],(()=>[]));let d,h,f;if(i){const e=/(\S+)="?([^"=]*)$/.exec(a);d=e[1],h=e[2],f=/^[^">]*/.exec(t[c+1])[0]}const p={attributeName:d,attributeValuePre:h,attributeValuePost:f,expressionIndex:c};l.push(p),n||i||(e+=" ")}const a=function(t){const e=document.createElement("template");return e.innerHTML=t,e}(e);return{template:a,elementsToBindings:r}}function wt(t,e,n){for(let i=0;i<t.length;i++){const o=t[i],r={binding:o,targetNode:o.attributeName?e:e.firstChild,targetParentNode:void 0,currentExpression:void 0};n.push(r)}}function jt(t){const{template:e,elementsToBindings:n}=ft(mt,t,(()=>kt(t))),i=e.cloneNode(!0).content.firstElementChild,o=function(t,e){const n=[];let i;if(1===e.size&&(i=e.get(0)))wt(i,t,n);else{const i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT);let o=t,r=-1;do{const t=e.get(++r);t&&wt(t,o,n)}while(o=i.nextNode())}return n}(i,n);return function(t){return function(t,e){for(const n of e){const{targetNode:e,currentExpression:i,binding:{expressionIndex:o,attributeName:r,attributeValuePre:s,attributeValuePost:a}}=n,c=t[o];if(i!==c)if(n.currentExpression=c,r)e.setAttribute(r,s+pt(c)+a);else{let t;Array.isArray(c)?bt(c,n):c instanceof Element?(t=c,e.replaceWith(t)):e.nodeValue=pt(c),t&&(n.targetNode=t)}}}(t,o),i}}function Et(t,e,n,i,o,r,s,a,c){const{labelWithSkin:u,titleForEmoji:l,unicodeWithSkin:d}=n,{html:h,map:f}=function(t){const e=ft(vt,t,(()=>new Map));let n=yt;return{map:function(t,e,i){return t.map(((t,o)=>{const r=n;n=i(t);try{return e(t,o)}finally{n=r}}))},html:function(t){const i=ft(e,t,(()=>new Map)),o=ft(i,n,(()=>jt(t)));for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return o(s)}}}(e);function p(t,n,i){return f(t,((t,o)=>h`<button role="${n?"option":"menuitem"}" aria-selected="${n?o===e.activeSearchItem:""}" aria-label="${u(t,e.currentSkinTone)}" title="${l(t)}" class="${"emoji"+(n&&o===e.activeSearchItem?" active":"")+(t.unicode?"":" custom-emoji")}" id="${`${i}-${t.id}`}" style="${t.unicode?"":`--custom-emoji-background: url(${JSON.stringify(t.url)})`}">${t.unicode?d(t,e.currentSkinTone):""}</button>`),(t=>`${i}-${t.id}`))}const m=h`<section data-ref="rootElement" class="picker" aria-label="${e.i18n.regionLabel}" style="${e.pickerStyle||""}"><div class="pad-top"></div><div class="search-row"><div class="search-wrapper"><input id="search" class="search" type="search" role="combobox" enterkeyhint="search" placeholder="${e.i18n.searchLabel}" autocapitalize="none" autocomplete="off" spellcheck="true" aria-expanded="${!(!e.searchMode||!e.currentEmojis.length)}" aria-controls="search-results" aria-describedby="search-description" aria-autocomplete="list" aria-activedescendant="${e.activeSearchItemId?`emo-${e.activeSearchItemId}`:""}" data-ref="searchElement" data-on-input="onSearchInput" data-on-keydown="onSearchKeydown"><label class="sr-only" for="search">${e.i18n.searchLabel}</label> <span id="search-description" class="sr-only">${e.i18n.searchDescription}</span></div><div class="skintone-button-wrapper ${e.skinTonePickerExpandedAfterAnimation?"expanded":""}"><button id="skintone-button" class="emoji ${e.skinTonePickerExpanded?"hide-focus":""}" aria-label="${e.skinToneButtonLabel}" title="${e.skinToneButtonLabel}" aria-describedby="skintone-description" aria-haspopup="listbox" aria-expanded="${e.skinTonePickerExpanded}" aria-controls="skintone-list" data-on-click="onClickSkinToneButton">${e.skinToneButtonText||""}</button></div><span id="skintone-description" class="sr-only">${e.i18n.skinToneDescription}</span><div data-ref="skinToneDropdown" id="skintone-list" class="skintone-list hide-focus ${e.skinTonePickerExpanded?"":"hidden no-animate"}" style="transform:translateY(${e.skinTonePickerExpanded?0:"calc(-1 * var(--num-skintones) * var(--total-emoji-size))"})" role="listbox" aria-label="${e.i18n.skinTonesLabel}" aria-activedescendant="skintone-${e.activeSkinTone}" aria-hidden="${!e.skinTonePickerExpanded}" tabIndex="-1" data-on-focusout="onSkinToneOptionsFocusOut" data-on-click="onSkinToneOptionsClick" data-on-keydown="onSkinToneOptionsKeydown" data-on-keyup="onSkinToneOptionsKeyup">${f(e.skinTones,((t,n)=>h`<div id="skintone-${n}" class="emoji ${n===e.activeSkinTone?"active":""}" aria-selected="${n===e.activeSkinTone}" role="option" title="${e.i18n.skinTones[n]}" aria-label="${e.i18n.skinTones[n]}">${t}</div>`),(t=>t))}</div></div><div class="nav" role="tablist" style="grid-template-columns:repeat(${e.groups.length},1fr)" aria-label="${e.i18n.categoriesLabel}" data-on-keydown="onNavKeydown" data-on-click="onNavClick">${f(e.groups,(t=>h`<button role="tab" class="nav-button" aria-controls="tab-${t.id}" aria-label="${e.i18n.categories[t.name]}" aria-selected="${!e.searchMode&&e.currentGroup.id===t.id}" title="${e.i18n.categories[t.name]}" data-group-id="${t.id}"><div class="nav-emoji emoji">${t.emoji}</div></button>`),(t=>t.id))}</div><div class="indicator-wrapper"><div class="indicator" style="transform:translateX(${(e.isRtl?-1:1)*e.currentGroupIndex*100}%)"></div></div><div class="message ${e.message?"":"gone"}" role="alert" aria-live="polite">${e.message||""}</div><div data-ref="tabpanelElement" class="tabpanel ${!e.databaseLoaded||e.message?"gone":""}" role="${e.searchMode?"region":"tabpanel"}" aria-label="${e.searchMode?e.i18n.searchResultsLabel:e.i18n.categories[e.currentGroup.name]}" id="${e.searchMode?"":`tab-${e.currentGroup.id}`}" tabIndex="0" data-on-click="onEmojiClick"><div data-action="calculateEmojiGridStyle">${f(e.currentEmojisWithCategories,((t,n)=>h`<div><div id="menu-label-${n}" class="category ${1===e.currentEmojisWithCategories.length&&""===e.currentEmojisWithCategories[0].category?"gone":""}" aria-hidden="true">${e.searchMode?e.i18n.searchResultsLabel:t.category?t.category:e.currentEmojisWithCategories.length>1?e.i18n.categories.custom:e.i18n.categories[e.currentGroup.name]}</div><div class="emoji-menu ${0===n||e.searchMode||-1!==e.currentGroup.id?"":"visibility-auto"}" style="${`--num-rows: ${Math.ceil(t.emojis.length/e.numColumns)}`}" data-action="updateOnIntersection" role="${e.searchMode?"listbox":"menu"}" aria-labelledby="menu-label-${n}" id="${e.searchMode?"search-results":""}">${p(t.emojis,e.searchMode,"emo")}</div></div>`),(t=>t.category))}</div></div><div class="favorites onscreen emoji-menu ${e.message?"gone":""}" role="menu" aria-label="${e.i18n.favoritesLabel}" data-on-click="onEmojiClick">${p(e.currentFavorites,!1,"fav")}</div><button data-ref="baselineEmoji" aria-hidden="true" tabindex="-1" class="abs-pos hidden emoji baseline-emoji"></button></section>`,v=(e,n)=>{for(const i of t.querySelectorAll(`[${e}]`))n(i,i.getAttribute(e))};if(c){t.appendChild(m);for(const t of["click","focusout","input","keydown","keyup"])v(`data-on-${t}`,((e,n)=>{e.addEventListener(t,i[n])}));v("data-ref",((t,e)=>{r[e]=t})),s.addEventListener("abort",(()=>{t.removeChild(m)}))}v("data-action",((t,e)=>{let n=a.get(e);n||a.set(e,n=new WeakSet),n.has(t)||(n.add(t),o[e](t))}))}const St="function"===typeof queueMicrotask?queueMicrotask:t=>Promise.resolve().then(t);function Ct(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!n(t[i],e[i]))return!1;return!0}const xt=new WeakMap;const At=[],{assign:Tt}=Object;function Ot(t,e){const n={},i=new AbortController,o=i.signal,{state:r,createEffect:s}=function(t){let e,n=!1;const i=new Map,o=new Set;let r;const s=()=>{if(n)return;const t=[...o];o.clear();try{for(const e of t)e()}finally{r=!1,o.size&&(r=!0,St(s))}},a=new Proxy({},{get(t,n){if(e){let t=i.get(n);t||(t=new Set,i.set(n,t)),t.add(e)}return t[n]},set(t,e,n){if(t[e]!==n){t[e]=n;const a=i.get(e);if(a){for(const t of a)o.add(t);r||(r=!0,St(s))}}return!0}});return t.addEventListener("abort",(()=>{n=!0})),{state:a,createEffect:t=>{const n=()=>{const i=e;e=n;try{return t()}finally{e=i}};return n()}}}(o),a=new Map;Tt(r,{skinToneEmoji:void 0,i18n:void 0,database:void 0,customEmoji:void 0,customCategorySorting:void 0,emojiVersion:void 0}),Tt(r,e),Tt(r,{initialLoad:!0,currentEmojis:[],currentEmojisWithCategories:[],rawSearchText:"",searchText:"",searchMode:!1,activeSearchItem:-1,message:void 0,skinTonePickerExpanded:!1,skinTonePickerExpandedAfterAnimation:!1,currentSkinTone:0,activeSkinTone:0,skinToneButtonText:void 0,pickerStyle:void 0,skinToneButtonLabel:"",skinTones:[],currentFavorites:[],defaultFavoriteEmojis:void 0,numColumns:8,isRtl:!1,currentGroupIndex:0,groups:W,databaseLoaded:!1,activeSearchItemId:void 0}),s((()=>{r.currentGroup!==r.groups[r.currentGroupIndex]&&(r.currentGroup=r.groups[r.currentGroupIndex])}));const c=e=>{t.getElementById(e).focus()},u=e=>t.getElementById(`emo-${e.id}`),l=(t,e)=>{n.rootElement.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0,composed:!0}))},d=(t,e)=>t.id===e.id,h=(t,e)=>{const{category:n,emojis:i}=t,{category:o,emojis:r}=e;return n===o&&Ct(i,r,d)},f=t=>{Ct(r.currentEmojis,t,d)||(r.currentEmojis=t)},p=t=>{r.searchMode!==t&&(r.searchMode=t)},m=(t,e)=>e&&t.skins&&t.skins[e]||t.unicode,v={labelWithSkin:(t,e)=>{return(n=[t.name||m(t,e),t.annotation,...t.shortcodes||At].filter(Boolean),ct(n,(t=>t))).join(", ");var n},titleForEmoji:t=>t.annotation||(t.shortcodes||At).join(", "),unicodeWithSkin:m},y={onClickSkinToneButton:function(t){r.skinTonePickerExpanded=!r.skinTonePickerExpanded,r.activeSkinTone=r.currentSkinTone,r.skinTonePickerExpanded&&(st(t),ut((()=>c("skintone-list"))))},onEmojiClick:async function(t){const{target:e}=t;if(!e.classList.contains("emoji"))return;st(t);C(e.id.substring(4))},onNavClick:function(t){const{target:e}=t,i=e.closest(".nav-button");if(!i)return;const o=parseInt(i.dataset.groupId,10);n.searchElement.value="",r.rawSearchText="",r.searchText="",r.activeSearchItem=-1,r.currentGroupIndex=r.groups.findIndex((t=>t.id===o))},onNavKeydown:function(t){const{target:e,key:n}=t,i=e=>{e&&(st(t),e.focus())};switch(n){case"ArrowLeft":return i(e.previousElementSibling);case"ArrowRight":return i(e.nextElementSibling);case"Home":return i(e.parentElement.firstElementChild);case"End":return i(e.parentElement.lastElementChild)}},onSearchKeydown:function(t){if(!r.searchMode||!r.currentEmojis.length)return;const e=e=>{st(t),r.activeSearchItem=at(e,r.activeSearchItem,r.currentEmojis)};switch(t.key){case"ArrowDown":return e(!1);case"ArrowUp":return e(!0);case"Enter":if(-1!==r.activeSearchItem)return st(t),C(r.currentEmojis[r.activeSearchItem].id);r.activeSearchItem=0}},onSkinToneOptionsClick:function(t){const{target:{id:e}}=t,n=e&&e.match(/^skintone-(\d)/);if(!n)return;st(t);x(parseInt(n[1],10))},onSkinToneOptionsFocusOut:async function(t){const{relatedTarget:e}=t;e&&"skintone-list"===e.id||(r.skinTonePickerExpanded=!1)},onSkinToneOptionsKeydown:function(t){if(!r.skinTonePickerExpanded)return;const e=async e=>{st(t),r.activeSkinTone=e};switch(t.key){case"ArrowUp":return e(at(!0,r.activeSkinTone,r.skinTones));case"ArrowDown":return e(at(!1,r.activeSkinTone,r.skinTones));case"Home":return e(0);case"End":return e(r.skinTones.length-1);case"Enter":return st(t),x(r.activeSkinTone);case"Escape":return st(t),r.skinTonePickerExpanded=!1,c("skintone-button")}},onSkinToneOptionsKeyup:function(t){if(!r.skinTonePickerExpanded)return;if(" "===t.key)return st(t),x(r.activeSkinTone)},onSearchInput:function(t){r.rawSearchText=t.target.value}},g={calculateEmojiGridStyle:function(t){!function(t,e,n){let i;dt?(i=new ResizeObserver(n),i.observe(t)):ut(n),e.addEventListener("abort",(()=>{i&&i.disconnect()}))}(t,o,(()=>{{const t=getComputedStyle(n.rootElement),e=parseInt(t.getPropertyValue("--num-columns"),10),i="rtl"===t.getPropertyValue("direction");r.numColumns=e,r.isRtl=i}}))},updateOnIntersection:function(t){!function(t,e,n){{const i=t.closest(".tabpanel");let o=xt.get(i);o||(o=new IntersectionObserver(n,{root:i,rootMargin:"50% 0px 50% 0px",threshold:0}),xt.set(i,o),e.addEventListener("abort",(()=>{o.disconnect()}))),o.observe(t)}}(t,o,(t=>{for(const{target:e,isIntersecting:n}of t)e.classList.toggle("onscreen",n)}))}};let b=!0;function k(){const{customEmoji:t,database:e}=r,n=t||At;e.customEmoji!==n&&(e.customEmoji=n)}s((()=>{Et(t,r,v,y,g,n,o,a,b),b=!1})),r.emojiVersion||ot().then((t=>{t||(r.message=r.i18n.emojiUnsupportedMessage)})),s((()=>{r.database&&async function(){let t=!1;const e=setTimeout((()=>{t=!0,r.message=r.i18n.loadingMessage}),1e3);try{await r.database.ready(),r.databaseLoaded=!0}catch(n){console.error(n),r.message=r.i18n.networkErrorMessage}finally{clearTimeout(e),t&&(t=!1,r.message="")}}()})),s((()=>{r.pickerStyle=`\n      --num-groups: ${r.groups.length}; \n      --indicator-opacity: ${r.searchMode?0:1}; \n      --num-skintones: 6;`})),s((()=>{r.customEmoji&&r.database&&k()})),s((()=>{r.customEmoji&&r.customEmoji.length?r.groups!==H&&(r.groups=H):r.groups!==W&&(r.currentGroupIndex&&r.currentGroupIndex--,r.groups=W)})),s((()=>{!async function(){r.databaseLoaded&&(r.currentSkinTone=await r.database.getPreferredSkinTone())}()})),s((()=>{r.skinTones=Array(6).fill().map(((t,e)=>function(t,e){if(0===e)return t;const n=t.indexOf("\u200d");return-1!==n?t.substring(0,n)+String.fromCodePoint(127995+e-1)+t.substring(n):(t.endsWith("\ufe0f")&&(t=t.substring(0,t.length-1)),t+"\ud83c"+String.fromCodePoint(57339+e-1))}(r.skinToneEmoji,e)))})),s((()=>{r.skinToneButtonText=r.skinTones[r.currentSkinTone]})),s((()=>{r.skinToneButtonLabel=r.i18n.skinToneLabel.replace("{skinTone}",r.i18n.skinTones[r.currentSkinTone])})),s((()=>{r.databaseLoaded&&async function(){const{database:t}=r,e=(await Promise.all(Y.map((e=>t.getEmojiByUnicodeOrName(e))))).filter(Boolean);r.defaultFavoriteEmojis=e}()})),s((()=>{r.databaseLoaded&&r.defaultFavoriteEmojis&&async function(){k();const{database:t,defaultFavoriteEmojis:e,numColumns:n}=r,i=await t.getTopFavoriteEmoji(n),o=await S(ct([...i,...e],(t=>t.unicode||t.name)).slice(0,n));r.currentFavorites=o}()})),s((()=>{!async function(){const{searchText:t,currentGroup:e,databaseLoaded:n,customEmoji:i}=r;if(n)if(t.length>=2){const e=await async function(t){return S(await E(await r.database.getEmojiBySearchQuery(t)))}(t);r.searchText===t&&(f(e),p(!0))}else{const{id:t}=e;if(-1!==t||i&&i.length){const e=await async function(t){const e=-1===t?r.customEmoji:await r.database.getEmojiByGroup(t);return S(await E(e))}(t);r.currentGroup.id===t&&(f(e),p(!1))}}else r.currentEmojis=[],r.searchMode=!1}()}));const w=()=>{ut((()=>{var t;(t=n.tabpanelElement)&&(t.scrollTop=0)}))};function j(t){return!t.unicode||!X(t)||rt.get(t.unicode)}async function E(t){const e=r.emojiVersion||await ot();return t.filter((t=>{let{version:n}=t;return!n||n<=e}))}async function S(t){return function(t,e){const n=t=>{const n={};for(const i of t)"number"===typeof i.tone&&i.version<=e&&(n[i.tone]=i.unicode);return n};return t.map((t=>{let{unicode:e,skins:i,shortcodes:o,url:r,name:s,category:a,annotation:c}=t;return{unicode:e,name:s,shortcodes:o,url:r,category:a,annotation:c,id:e||s,skins:i&&n(i)}}))}(t,r.emojiVersion||await ot())}async function C(t){const e=await r.database.getEmojiByUnicodeOrName(t),n=[...r.currentEmojis,...r.currentFavorites].find((e=>e.id===t)),i=n.unicode&&m(n,r.currentSkinTone);await r.database.incrementFavoriteEmojiCount(t),l("emoji-click",{emoji:e,skinTone:r.currentSkinTone,...i&&{unicode:i},...n.name&&{name:n.name}})}function x(t){r.currentSkinTone=t,r.skinTonePickerExpanded=!1,c("skintone-button"),l("skin-tone-change",{skinTone:t}),r.database.setPreferredSkinTone(t)}return s((()=>{const{currentEmojis:t,emojiVersion:e}=r,i=t.filter((t=>t.unicode)).filter((t=>X(t)&&!rt.has(t.unicode)));if(!e&&i.length)f(t),ut((()=>function(t){const e=function(t,e,n){let i=!0;for(const o of t){const t=ht(n(o));"undefined"===typeof lt&&(lt=ht(e));const r=t/1.8<lt;rt.set(o.unicode,r),r||(i=!1)}return i}(t,n.baselineEmoji,u);e?w():r.currentEmojis=[...r.currentEmojis]}(i)));else{const n=e?t:t.filter(j);f(n),w()}})),s((()=>{})),s((()=>{(t=>{Ct(r.currentEmojisWithCategories,t,h)||(r.currentEmojisWithCategories=t)})(function(){const{searchMode:t,currentEmojis:e}=r;if(t)return[{category:"",emojis:e}];const n=new Map;for(const i of e){const t=i.category||"";let e=n.get(t);e||(e=[],n.set(t,e)),e.push(i)}return[...n.entries()].map((t=>{let[e,n]=t;return{category:e,emojis:n}})).sort(((t,e)=>r.customCategorySorting(t.category,e.category)))}())})),s((()=>{r.activeSearchItemId=-1!==r.activeSearchItem&&r.currentEmojis[r.activeSearchItem].id})),s((()=>{const{rawSearchText:t}=r;V((()=>{r.searchText=(t||"").trim(),r.activeSearchItem=-1}))})),s((()=>{r.skinTonePickerExpanded?n.skinToneDropdown.addEventListener("transitionend",(()=>{r.skinTonePickerExpandedAfterAnimation=!0}),{once:!0}):r.skinTonePickerExpandedAfterAnimation=!1})),{$set(t){Tt(r,t)},$destroy(){i.abort()}}}var Pt={categoriesLabel:"Categories",emojiUnsupportedMessage:"Your browser does not support color emoji.",favoritesLabel:"Favorites",loadingMessage:"Loading\u2026",networkErrorMessage:"Could not load emoji.",regionLabel:"Emoji picker",searchDescription:"When search results are available, press up or down to select and enter to choose.",searchLabel:"Search",searchResultsLabel:"Search results",skinToneDescription:"When expanded, press up or down to select and enter to choose.",skinToneLabel:"Choose a skin tone (currently {skinTone})",skinTonesLabel:"Skin tones",skinTones:["Default","Light","Medium-Light","Medium","Medium-Dark","Dark"],categories:{custom:"Custom","smileys-emotion":"Smileys and emoticons","people-body":"People and body","animals-nature":"Animals and nature","food-drink":"Food and drink","travel-places":"Travel and places",activities:"Activities",objects:"Objects",symbols:"Symbols",flags:"Flags"}};const Mt=["customEmoji","customCategorySorting","database","dataSource","i18n","locale","skinToneEmoji","emojiVersion"],Ft=`:host{--emoji-font-family:${Z}}`;class $t extends HTMLElement{constructor(t){super(),this.attachShadow({mode:"open"});const e=document.createElement("style");e.textContent=':host{--emoji-size:1.375rem;--emoji-padding:0.5rem;--category-emoji-size:var(--emoji-size);--category-emoji-padding:var(--emoji-padding);--indicator-height:3px;--input-border-radius:0.5rem;--input-border-size:1px;--input-font-size:1rem;--input-line-height:1.5;--input-padding:0.25rem;--num-columns:8;--outline-size:2px;--border-size:1px;--border-radius:0;--skintone-border-radius:1rem;--category-font-size:1rem;display:flex;width:min-content;height:400px}:host,:host(.light){color-scheme:light;--background:#fff;--border-color:#e0e0e0;--indicator-color:#385ac1;--input-border-color:#999;--input-font-color:#111;--input-placeholder-color:#999;--outline-color:#999;--category-font-color:#111;--button-active-background:#e6e6e6;--button-hover-background:#d9d9d9}:host(.dark){color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}@media (prefers-color-scheme:dark){:host{color-scheme:dark;--background:#222;--border-color:#444;--indicator-color:#5373ec;--input-border-color:#ccc;--input-font-color:#efefef;--input-placeholder-color:#ccc;--outline-color:#fff;--category-font-color:#efefef;--button-active-background:#555555;--button-hover-background:#484848}}:host([hidden]){display:none}button{margin:0;padding:0;border:0;background:0 0;box-shadow:none;-webkit-tap-highlight-color:transparent}button::-moz-focus-inner{border:0}input{padding:0;margin:0;line-height:1.15;font-family:inherit}input[type=search]{-webkit-appearance:none}:focus{outline:var(--outline-color) solid var(--outline-size);outline-offset:calc(-1*var(--outline-size))}:host([data-js-focus-visible]) :focus:not([data-focus-visible-added]){outline:0}:focus:not(:focus-visible){outline:0}.hide-focus{outline:0}*{box-sizing:border-box}.picker{contain:content;display:flex;flex-direction:column;background:var(--background);border:var(--border-size) solid var(--border-color);border-radius:var(--border-radius);width:100%;height:100%;overflow:hidden;--total-emoji-size:calc(var(--emoji-size) + (2 * var(--emoji-padding)));--total-category-emoji-size:calc(var(--category-emoji-size) + (2 * var(--category-emoji-padding)))}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.hidden{opacity:0;pointer-events:none}.abs-pos{position:absolute;left:0;top:0}.gone{display:none!important}.skintone-button-wrapper,.skintone-list{background:var(--background);z-index:3}.skintone-button-wrapper.expanded{z-index:1}.skintone-list{position:absolute;inset-inline-end:0;top:0;z-index:2;overflow:visible;border-bottom:var(--border-size) solid var(--border-color);border-radius:0 0 var(--skintone-border-radius) var(--skintone-border-radius);will-change:transform;transition:transform .2s ease-in-out;transform-origin:center 0}@media (prefers-reduced-motion:reduce){.skintone-list{transition-duration:.001s}}@supports not (inset-inline-end:0){.skintone-list{right:0}}.skintone-list.no-animate{transition:none}.tabpanel{overflow-y:auto;scrollbar-gutter:stable;-webkit-overflow-scrolling:touch;will-change:transform;min-height:0;flex:1;contain:content}.emoji-menu{display:grid;grid-template-columns:repeat(var(--num-columns),var(--total-emoji-size));justify-content:space-around;align-items:flex-start;width:100%}.emoji-menu.visibility-auto{content-visibility:auto;contain-intrinsic-size:calc(var(--num-columns)*var(--total-emoji-size)) calc(var(--num-rows)*var(--total-emoji-size))}.category{padding:var(--emoji-padding);font-size:var(--category-font-size);color:var(--category-font-color)}.emoji,button.emoji{font-size:var(--emoji-size);display:flex;align-items:center;justify-content:center;border-radius:100%;height:var(--total-emoji-size);width:var(--total-emoji-size);line-height:1;overflow:hidden;font-family:var(--emoji-font-family);cursor:pointer}@media (hover:hover) and (pointer:fine){.emoji:hover,button.emoji:hover{background:var(--button-hover-background)}}.emoji.active,.emoji:active,button.emoji.active,button.emoji:active{background:var(--button-active-background)}.onscreen .custom-emoji::after{content:"";width:var(--emoji-size);height:var(--emoji-size);background-repeat:no-repeat;background-position:center center;background-size:contain;background-image:var(--custom-emoji-background)}.nav,.nav-button{align-items:center}.nav{display:grid;justify-content:space-between;contain:content}.nav-button{display:flex;justify-content:center}.nav-emoji{font-size:var(--category-emoji-size);width:var(--total-category-emoji-size);height:var(--total-category-emoji-size)}.indicator-wrapper{display:flex;border-bottom:1px solid var(--border-color)}.indicator{width:calc(100%/var(--num-groups));height:var(--indicator-height);opacity:var(--indicator-opacity);background-color:var(--indicator-color);will-change:transform,opacity;transition:opacity .1s linear,transform .25s ease-in-out}@media (prefers-reduced-motion:reduce){.indicator{will-change:opacity;transition:opacity .1s linear}}.pad-top,input.search{background:var(--background);width:100%}.pad-top{height:var(--emoji-padding);z-index:3}.search-row{display:flex;align-items:center;position:relative;padding-inline-start:var(--emoji-padding);padding-bottom:var(--emoji-padding)}.search-wrapper{flex:1;min-width:0}input.search{padding:var(--input-padding);border-radius:var(--input-border-radius);border:var(--input-border-size) solid var(--input-border-color);color:var(--input-font-color);font-size:var(--input-font-size);line-height:var(--input-line-height)}input.search::placeholder{color:var(--input-placeholder-color)}.favorites{overflow-y:auto;scrollbar-gutter:stable;display:flex;flex-direction:row;border-top:var(--border-size) solid var(--border-color);contain:content}.message{padding:var(--emoji-padding)}'+Ft,this.shadowRoot.appendChild(e),this._ctx={locale:"en",dataSource:"https://cdn.jsdelivr.net/npm/emoji-picker-element-data@^1/en/emojibase/data.json",skinToneEmoji:"\ud83d\udd90\ufe0f",customCategorySorting:tt,customEmoji:null,i18n:Pt,emojiVersion:null,...t};for(const n of Mt)"database"!==n&&Object.prototype.hasOwnProperty.call(this,n)&&(this._ctx[n]=this[n],delete this[n]);this._dbFlush()}connectedCallback(){this._cmp||(this._cmp=Ot(this.shadowRoot,this._ctx))}disconnectedCallback(){St((()=>{if(!this.isConnected&&this._cmp){this._cmp.$destroy(),this._cmp=void 0;const{database:t}=this._ctx;t.close().catch((t=>console.error(t)))}}))}static get observedAttributes(){return["locale","data-source","skin-tone-emoji","emoji-version"]}attributeChangedCallback(t,e,n){this._set(t.replace(/-([a-z])/g,((t,e)=>e.toUpperCase())),"emoji-version"===t?parseFloat(n):n)}_set(t,e){this._ctx[t]=e,this._cmp&&this._cmp.$set({[t]:e}),["locale","dataSource"].includes(t)&&this._dbFlush()}_dbCreate(){const{locale:t,dataSource:e,database:n}=this._ctx;n&&n.locale===t&&n.dataSource===e||this._set("database",new G({locale:t,dataSource:e}))}_dbFlush(){St((()=>this._dbCreate()))}}const qt={};for(const It of Mt)qt[It]={get(){return"database"===It&&this._dbCreate(),this._ctx[It]},set(t){if("database"===It)throw new Error("database is read-only");this._set(It,t)}};Object.defineProperties($t.prototype,qt),customElements.get("emoji-picker")||customElements.define("emoji-picker",$t)}}]);
//# sourceMappingURL=871.aa0307db.chunk.js.map