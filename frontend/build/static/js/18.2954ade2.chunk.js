"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[18],{2538:(e,r,a)=>{a.d(r,{cn:()=>n});var o=a(8387),s=a(9359);function n(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(0,s.QP)((0,o.A)(r))}},3018:(e,r,a)=>{a.r(r),a.d(r,{default:()=>j});var o=a(5043),s=a(9953),n=a(2538),t=a(8387),i=a(8610),c=a(2108),l=a(6431),d=a(1596),u=a(2532),f=a(552);function g(e){return(0,f.Ay)("MuiCard",e)}(0,u.A)("MuiCard",["root"]);var p=a(579);const m=(0,c.Ay)(d.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,r)=>r.root})({overflow:"hidden"}),h=o.forwardRef((function(e,r){const a=(0,l.b)({props:e,name:"MuiCard"}),{className:o,raised:s=!1,...n}=a,c={...a,raised:s},d=(e=>{const{classes:r}=e;return(0,i.A)({root:["root"]},g,r)})(c);return(0,p.jsx)(m,{className:(0,t.A)(d.root,o),elevation:s?8:void 0,ref:r,ownerState:c,...n})}));function v(e){let{index:r,content:a,nativeLanguage:o,profileImage:t}=e;const i="".concat(s.i,"profile_images/MainAfter.jpg");return t=s.i+t,(0,p.jsx)(h,{className:(0,n.cn)("space-y-6 max-w-[350px] h-full p-4 border border-gray-200 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-200 transform hover:scale-105"),children:(0,p.jsx)("div",{className:"p-2 space-y-5 h-full",children:(0,p.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,p.jsx)("img",{src:t||i,alt:"Profile",onError:e=>{e.currentTarget.src=i},className:"w-20 h-20 rounded-full border-2 border-gray-300 object-cover"}),(0,p.jsxs)("div",{children:[(0,p.jsx)("p",{className:"font-semibold text-lg text-gray-800",children:a}),(0,p.jsx)("p",{className:"italic text-gray-500",children:o||"Unknown"})]})]})})},r)}var x=a(3216);const j=()=>{const[e,r]=(0,o.useState)([]),a=(0,x.Zp)();return(0,o.useEffect)((()=>{(async()=>{try{const e=await(async e=>{try{const r=sessionStorage.getItem("accessToken"),a=await fetch(s.C+"/api/profile/data",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},credentials:"include"});if(a.ok){const e=await a.json();return console.log("User profile fetched successfully:",e),e}if(401===a.status)sessionStorage.removeItem("accessToken"),e("/login");else{const e=await a.json();console.error("Error fetching profile:",e.error)}}catch(r){console.error("Error fetching profile:",r)}})(a);if(null!==e&&void 0!==e&&e.profiles){const a=e.profiles.map((e=>({username:e.username,imageURL:e.profile_image_url||"/media/profile_images/MainAfter.jpg",nativeLanguage:e.native_language})));r(a)}else console.error("Unexpected response structure:",e)}catch(e){console.error("Error fetching profile data:",e)}})()}),[]),(0,p.jsx)("div",{className:"grid grid-cols-3 gap-4 p-4",children:e.map(((e,r)=>(0,p.jsx)(v,{content:e.username,nativeLanguage:e.nativeLanguage,profileImage:e.imageURL},r)))})}}}]);
//# sourceMappingURL=18.2954ade2.chunk.js.map